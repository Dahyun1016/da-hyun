# 데이터베이스 11단원

작성일시: 2023년 11월 28일 오후 12:05
복습: No

# 11 데이터웨어하우스와 데이터베이스 응용

## 데이터웨어하우스 개념

### 데이터웨어하우스의 출현 배경

정보의 위기

- 실질적인 정보는 매우 제한적임
- 데이터는 많지만 필요한 정보 획득 x

### 정보 시스템의 문제점

의사 결정에 도움을 주지 못하는 구조적인 문제점

- 데이터 비통합성
- 데이터 비일관성
- 데이터 비신뢰성
- 데이터의 단기성
- 데이터 비생산성

### 데이터웨어하우스의 등장

데이터베이스

- OLTP환경에 적합
- 상대적으로 데이터 분석 느림, 많은 제한 ㅇ

해결방안 : 업무용 , 분석용 저장소 분리

- 데이터베이스 : 업무 트랜잭션 처리를 위한 저장소 사용 ( 운영 데이터 , 원시 데이터 )
- 데이터웨어하우스 :새로운 저장소 구촉 ( 분석 데이터 , 파생 데이터 )

### OLTP ( ON-line transaction processing )

교수님이 읽고 넘어가시라하심

- 의미 : 실시간 트랜잭션 처리 , 데베 기록하는 시스템 주로 일상적인 업무
- 용도 : atm 거래, 온라인 주문 같은 실시간 트랜잭션 처리
- 특징 : 빠른 처리 , 동시 다중 사용자 , 정확성과 무결성 , 간단한 쿼리 및 데이터 검색 최적화

결론

- OLTP 는 빠른 속도 대규모 트랜잭션 처리
- 쉬운 데이터 업데이트 및 검색
- 일상적인 업무 처리에 필수적 , 실시간 업데이트로 효율성 극대화

### 데이터웨어하우스의 정의 및 특성

데이터웨어하우스의 정의

- 효율적인 분석 기반을 제공하는 데이터 저장소
- 추출 , 변환 , 통합 과정을 거친 거대한 분석전용 데이터 창고

데이터웨어하우스의 특성

1. 주제 지향성
- 분석 프로그램 중심 , 분석 주제 중심으로 구성 주제별로 요약

1. 통합성
- 외부문서 간의 통합도 고려
- 하나의 통일된 형식으로 변환해야함
- 통합 과정에서 유형,측정 단위, 데이터 불일치 문제 해결
- 데이터 웨어하우스의 핵심이 되는 가장 중요한 특성

1. 시계열성
- 데베 - 주로 현 시점까지 업무 결과 반영
- 여러 시점 데이터가 모두 의미 있음
- 스냅샷(각 시점에서의 데이터 버전) 저장
- 하우스 - 스냅샷 데이터들이 축적되는 대규모 저장소
- 원시 데이터 or 요약 데이터 형태로 다양하게 중복 저장

1. 비휘발성
- 데이터웨어하우스 - 수정이나 삭제가 거의 없는 검색 전용 데베
- 일단 저장되면 검색 or 추가적 적재만 발생 갱신과 삭제는 거의 발생 x

### 데이터 웨어하우스

교수님이 읽고 넘어가라 하셨음

- 의미 : 다양한 소스로부터 데이터 추출 , 통합하여 분석 및 의사결정 지원하는 중앙 데이터 저장소
- 용도 : 다양한 분야에서 발생하는 데이터 통합 후 실시간 분석 및 의사결정에 활용
- 특징 : 통합된 데이터 저장소 , 시간에 따른 데이터 저장 , 비즈니스 인텔리전스 및 마이닝을 위한 접근 및 분석 기능 제공

결론

- 통합 데이터 분석 및 인텔리전스 추출 ( 인텔리전스 : 정보와 데이터 이해 활용 , 지식 추출하고 토대로 의사 결정을 내리고 문제를 해결 )

### 데이터 웨어하우스의 특징

- 주제지향성
- 통합성
- 시계열성
- 비휘발성

### 데이터베이스 데이터웨어하우스 차이

| 데이터베이스  | 데이터웨어하우스 |
| --- | --- |
| 트랜잭션 처리 | 의사결정지원 |
| 고개지향적 | 시장지향적 |
| 현재 데이터 (동적) | 과거 데이터 (정적) |
| 수정가능 → 읽기/쓰기 | 수정불가 , 비휘발성 → 읽기전용 |
| 평면적 | 다차원적 |
| 지속적 갱신 | 주기적 갱신 |
| OLTP 운영환경 | OLAP 분석환경 |

### 데이터웨어하우스 시스템

시스템 구조 : 3- 계층 구조

1. 원본 데이터 계층
2. 데이터 저장소 계층
3. 클라이언트 계층

### 데이터웨어하우스 구축 방식

- 상향식

소규모 데이터 마트를 순차적 구축 후 나중에 통합하여 전사적 데이터웨어하우스를 완성

- 하향식

전사적 데이터웨어하우스를 구축 후 필요할 경우 순차적으로 데이터 마트 하나씩 추가하여 전체 시스템 완성

- 절충식

기획과 설계는 하향식 구축 방식 , 실제 구축은 상향식 구축 방식처럼 중요한 분야부터 진행

슈퍼마트 (핵심 저장 단위) 들로 분할하여 설계 후 각 슈퍼마트를 우선순위에 따라 독자적으로 구축 후 최종적으로 전사적 데이터웨어하우스를 완성

### 데이터웨어하우스 설계

다차원성

- 데이터웨어하우스는 다차원 구조로 구성
- 다차원 구조는 데이터에 대한 상호 연관성 분석이 가능하도록 함

다차원 모델링

- 다차원성을 유지하도록 구조화하는것
- 차원 중심으로 모델링
- 다차원 모델링 방법 [ 다차원 : 데이터 큐브 개념 이용 ] [ 관계형 : 스타 스키마 개념 이용 ]

데이터 큐브

- 개념 : 다차원 데이터 담는 공간 , 여러 차원 가진 데이터 다양한 각도에서 분석

스타 스키마

- 개념 : 차원 테이블과 팩트 테이블로 구성된 모델 팩트 테이블 중앙에 위치하고 차원 테이블이 팩트 테이블 둘러싸는 형태임

### 다차원 데이터베이스 , 다차원 질의

다차원 데이터베이스 

- 관계형 데이터베이스 한계를 극복하기 위해 개발됨
- 다차원 큐브 구조로 모델링 → 복잡한 모델링 필요 없음

다차원 질의

- 큐브를 자신이 원하는 모양으로 절단하여 살펴보는것
- 슬라이싱 : 일부분을 둘로 쪼개어 자신이 원하는 큐브 단면 분석 → 하나의 차원 선택하여 해당 차원 특정 부분 선택하는것 (데이터 한 축으로 필터링 하는것과 같음)
- 다이싱 : 보고자 하는 부분만을 선별함 (조건을 만족하는 데이터를 선택)→ 작은 부분 큐브 형태의 영역 분석
- 피보팅 : 큐브 축 위치를 바꿔 같은 분석 결과 → 다른 관점에서 분석

### 다차원 모델

데이터 큐브

- 다차원 모델 기본 구조 , 2차원 면들로 조합된 다면체 도형
- 차원 : 데이터 큐브 각 축
- 차원멤버 : 축 좌표
- 축 좌표들의 조합으로 특정 셀 지정 , 셀 안에는 하나의 측정값 저장
- 데이터  큐브는 n-차원의 큐브 구조로 모델링

차원

- 데이터에 대한 하나의 분석 관점 or 분석 시각
- 관점 다양 , 상호 연관성이 높을수록 차원 갯수 증가
- 차원의 개수에 따라 큐브의 구조가 결정
- 같은 축 구성하는 차원 멤버들은 유사한 항목들 or 유사하지만 수준이 다른 항목

개념계층

- 같은 차원 안의 수준들 간의 수직적 상하관계
- 상위 수준 개념으로부터 하위 수준 개념으로 차원 멤버들을 계층적으로 조직화

### 스타 스키마

차원 모델링

- 관계형 스키마 구조에 차원성 부여
- 테이블들이 다양한 연관성을 가질 수 있도록 주제 중심 스키마 구조 변환
- 빠르고 효과적인 분석을 위해 스키마 구조 정의함
- 차원 모델링에 사용되는 대표적인 모델 → 스타 스키마

스타 스키마

- 관계형 데베에 가상의 데이터 큐브를 만들기 위한 대표적 모델
- 비정규화된 관계형 스키마의 특수 형태
- 스타 조인 스키마 , 별 스키마 or 성형 스키마
- 하나의 사실 테이블 중심으로 여러개의 차원 테이블 들이 연결됨 → 방사성 구조
- 장점 : 구조 단순 , 빠른 속도

| 간단한 구조 | 팩트 테이블과 여러개의 차원 테이블로 구성 → 직관적인 구조 |
| --- | --- |
| 빠른 쿼리 속도 | 팩트 테이블 / 차원 테이블로 분리 → 최소한의 조인 |
| 최적화된 집계 | 미리 집계된 데이터를 사용하여 팩트 테이블에 저장 → 집계된 결과를 바로 얻어서 응답시간 단축 |

사실 ( fact )

- 사실 테이블에 저장되는 매 순간 조직에서 발생하는 측정값 or 집계값
- 대부분 수치 데이터 , 분석 대상이 되는 실제 값

차원 ( dimension )

- 차원 테이블에 저장되는 사실을 바라보는 특정 관점
- 측정값 의미를 설명하는 데이터

스타 조인 ( star join )

- 일대다 참조 관계 이용 → 하나의 사실 테이블과 작은 크기의 여러 차원 테이블들 일대다 참조관계

### 스노우플레이크 스키마

스노우플레이크 스키마

- 데이터 중복을 줄이기 위해 차원 테이블을 정규화한 구조
- 스타 스키마 변형된 형태

### 스타스키마 vs 스노우플레이크 스키마

| 스타 스키마 | 스노우플레이크 스키마 |
| --- | --- |
| 구조 간단 , 적은 조인으로 응답시간 빠름 | 정규화로 데이터 중복 x , 적은 기억장소 , 유연성 및 확장성 높음 |
| 비정규화로 비일관성 높음 , 많은 기억장소 요구 , 유연성 낮음 | 구조가 복잡함 , 많은 조인으로 응답 느림 |

< 결론 : 응답시간이 빠르고 구조가 단순하여 이해하기 쉬운 스타스키마 많이 사용 >

### 은하수 스키마

은하수스키마

- 같은 차원 테이블을 공유하는 여러 사실 테이블들 포함하는 관계형 스키마
- 여러 스타 스키마들이 모여서 구성 스타 패밀리 or 성운 스키마라고 함

### OLAP

OLAP 정의

- 직접 다양한 분석 관점의 흐름에 따라 대규모의 다차원 데이터를 동적으로 분석하고 보고서를 만드는 모든 과정을 칭함
- 공유 정보에 대한 신속한 분석 (FASMI)
- 데이터웨어하우스와 분석자 사이의 중개자 → 다차원으로 분석할 수 있도록 지원함
- 데이터웨어하우스의 OLAP에 대응하는 개념
- 분석 과정은 질의가 꼬리를 물고 진행됨 → 최종적으로 중요한 의사 결정에 필요한 분석 정보 모두 획득

### OLAP 특성

- 다차원성 : 다차원 구조로 조직화함 , 사용자들이 관심 주제별로 다양한 관점에서 접근 가능하도록 함 (가장 중요한 특징) → 데이터를 분석하고 조회 할 수 ㅇ
- 직접성 : 의사결정자가  스스로 직접 분석하도록 지원
- 대화성 : 반복적인 질문을 통해 필요한 정보들을 발견하도록 대화식 인터페이스 지원 → 동적으로 탐색 가능한 능력
- 비정형성 : 즉작적으로 보고서를 자유롭게 만들 수 있게함 → 제한 ㄴㄴ
- 자동성 : 메타 데이터를 활용하여 몇번의 조작으로도 보고서 생성

### OLAP 종류

| 항목 | 관계형 OLAP | 다차원 OLAP | 혼합형 OLAP |
| --- | --- | --- | --- |
| 저장소 | RDB | MDB | RDB + MDB |
| 모델 | 차원 모델링 | 데이터 큐브 | 차원 + 데이터 큐브 |
| 분석 수준 | 간단 | 복잡 | 복잡 |
| 조작 | 읽기 | 읽기/쓰기 | 읽기/쓰기 |
| 속도 | 느림 | 빠름 | 보통 |
| 구축 기간 | 중기 | 단기  | 중기 |
| 용량 | 대용량 | 중-소 용량 | 대-중 용량 |
| 개발 주체 | 정보부서 | 사용자 | 정보+사용자 |
| 확장성 | 높음 | 낮음 | 높음 |
| 대상 | 전사적 데이터웨어하우스 | 데이터마트 | 데이터웨어하우스,데이터마트 |

### OLAP 인터페이스

1. 드릴-다운 연산
- 현재 수준보다 하위 수준으로 단계적으로 데이터를 분석해가는 연산 , 개념 계층을 따라 진행한다
1. 롤-업 연산
- 하위 수준의 상세 데이터를 상위 수준의 요약된 데이터로 합치는것 , 드릴-업 이라고도 함 → 드릴-다운과 반대
1. 슬라이스 & 다이스 연산
- 큐브 일부분을 원하는 형태로 잘라서 작은 부분 큐브를 만드는 연산
1. 피봇 연산
- 최종 결과에서 현재 분석중인 데이터 축을 변경하기 위한 연산
1. 드릴-쓰루 연산
- 큐브 안의 요약된 데이터 수준에서 상세 데이터로 연결하여 상세 정보 확인

### 데이터베이스 응용

분산 데이터 베이스

- 분산된 DB를 컴퓨터 네트워크로 연결하여 하나의 DB처럼 사용할 수 있도록 저장 , 관리하는 데이터베이스
- 지리적으로 분산된 DB를 하나의 중앙 집중형 DB처럼 논리적으로 통합하여 사용자가 사용할 수 있도록 지원
- 사용자에게 숨기고 복잡한 분산 처리 과정을 관리하는 분산 DBMS 필요

분산 데이터 독립성 : 5가지 데이터의 분산 투명성을 보장함

- 위치 투명성 : 데이터가 저장된 위치를 사용자로부터 숨기고 , 사용자는 데이터의 물리적 위치에 대해 명시적으로 인식할 필요 ㄴㄴ
- 중복 투명성 : 복제 되었더라도 사용자는 하나의 데이터만 존재하는 것처럼 인식하고 복제에 대한 정보를 숨김
- 단편화 투명성 : 여러 조각으로 나뉘어 있어도 사용자는 하나의 데이터베이스에 접근 하는 것처럼 인식, 단편화에 대한 정보를 감춤
- 병행 투명성 : 동시에 여러 사용자가 데이터 액세스해도 트랜잭션 간의 충돌이나 일관성 문제 최소화 , 사용자는 병행 작업 발생하는지 알 필요 ㄴㄴ
- 장애 투명성 : 시스템 일부가 실패해도 사용자에게 영향 최소화 , 데이터 엑세스 가능성 유지

### 분산 데이터베이스의 스키마 구조

데이터 투명성을 제공하기 위한 전역,단편화,할당 스키마를 포함한 분산 데이터베이스의 구조

- 전역 스키마 : 분산 데이터베이스의 모든 데이터 구조와 제약조건 정의
- 단편 스키마 : 전역 스키마를 논리적으로 분할한 단편들을 정의
- 할당 스키마 : 각 단편들을 물리적으로 저장할 지역 위치를 정의
- 지역 스키마 : 지역별로 저장하는 데이터의 구조와 제약조건을 정의

결론 : 전역 스키마는 전체 db의 구조 → 단편 스키마는 데이터를 나누는 방법 → 할당 스키마는 어디에 저장할지 → 지역 스키마는 개별 데이터베이스의 구조를 정의

### 객체지향 데이터베이스

객체지향 데이터베이스

- 객체,속성,메소드,클래스 계층과 상속, 복합 객체 등의 핵심 객체지향 개념을 주언함으로써 객체 단위로 데이터를 저장 , 관리하는 데이터베이스
- 객체 지향 개념은 본래 확장성 ㅇ → 새로운 요구사항 지원하고 의미 관계 표현하기 쉬워 데이터베이스 모델로 적합
- 응용 프로그램 개발과 데이터 저장을 일관되게 할 수 있 → 데이터 유형 불일치 해결

### 객체-관계 데이터베이스

객체-관계 데이터베이스

- 관계 데이터베이스에 객체지향 데이터 모델의 장점을 접목한 이종 데이터베이스
- 관계 데이터 모델의 단순성과 편의성 , 객체지향 데이터 모델의 확장성 모두 제공
- 객체-관계 데이터 모델 : 객체 지향 개념과 관계 개념을 통합
- 릴레이션 개념에 객체지향의 객체, 객체 식별자, 사용자 정의 유형 , 참조 유형 , 메소드 등의 개념을 추가적으로 지원 + 관계 데이터 모델의 테이블이 투플 or 객체들의 집합으로 선택적 정의
- SQL3 : 객체 - 관계 데이터베이스 질의어

객체-관계 데이터베이스와 객체 지향 데이터베이스

- 개념적으로나 기능적으로 매우 유사ㅣ
- 모델링 기능과 효율성 측면에서 상이
- 객체 지향 데이터베이스가 객체지향 프로그래밍에 데이터베이스 기능을 갖도록 확장했다면 객체-관계 데이터베이스는 관계 데이터베이스에 객체 개념을 갖도록 확장

### 멀티미디어 데이터베이스

멀티미디어 데이터베이스

- 복합적으로 구성된 다양한 미디어를 효율적으로 저장,관리 하기 위한 데이터베이스
- 비정형 데이터를 효과적으로 저장하고 질의하는 기능 제공

저장과 검색

- 멀티미디어 데이터는 대용량이고 정형화된 데이터가 아님 → 미디어별로 별도의 저장과 검색 방법이 필요
- 저장 : 원시 데이터 뿐만 아니라 특성 데이터와 명세 데이터 등이 함께 저장
- 검색 : 데이터의 특성이나 내용에 관한 키워드 검색이 기본 제공 , 사진이나 동영상 속의 내용과 의미를 직접 추출하여 질의 할 수 있는 다양한 검색 기법 필요

시스템 유형

- 파일 시스템 활용 방식
- 관계 데이터베이스 활용
- 관계 데이터베이스의 확장 기능 활용 방식
- 객체지향 데이터베이스 활용

### 공간 데이터베이스

공간 데이터베이스

- 다차원 공간 안의 객체와 객체간의 공간 관계를 공간적 특성과 함께 저장하고 관리하는 DB
- 공간 데이터의 저장 , 공간 색인 , 공간질의 , 공간 분석등의 기능 제공
- 일반적으로 3가지 부류의 공간 데이터 유형을 관리
- 지리 데이터 : 도로 , 지형 , 행정 경계 , 토지 특성 , 지역 기후 등 위도와 경도 ,고도를 갖는 좌표기반 데이터
- 기하학 데이터 : 빌딩,항공기,다리 등과 같은 구조 객체의 공간 구성 정보를 2,3차원 공간 좌표로 표현한 데이터
- 공간 속성 데이터 : 지도 및 위성 이미지와 각 공간 객체 , 위치에 관련한 각종 특성 , 통계 자료 등을 표현한 데이터

---